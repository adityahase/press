{% extends "templates/marketplace/base.html" %}
{%- from "templates/marketplace/macros.html" import button, link, breadcrumbs -%}

{%- block body -%}
<div class="px-4 sm:px-8">
	<div>
		<div class="flex items-center space-x-8 py-14">
			<div>
				{%- if app.image -%}
				<img class="w-32 h-32 border border-gray-200 rounded-full" src="{{ app.image }}" alt="{{ app.title }}">
				{%- else -%}
				<div class="flex items-center justify-center w-32 h-32 text-gray-500 bg-gray-100 border border-gray-200 rounded-full"
					style="font-size: 4rem;">
					{{ app.title[0].upper() }}
				</div>
				{%- endif -%}
			</div>
			<div class="w-3/4">
				<div class="mb-1">
					{{ breadcrumbs([
						{ 'label': 'Apps', 'url': '/marketplace' },
						{ 'label': category.name, 'url': '/marketplace/category/' + category.slug },
					]) }}
				</div>
				<h1 class="text-6xl font-bold text-gray-900"> {{ app.title }} </h1>
				<p class="text-gray-700">{{ app.description }}</p>
				<div class="mt-4">
					{{ button('Install Now', '/marketplace/apps/' + app.name + '/install', 'primary') }}
				</div>
			</div>
		</div>
		<div class="flex">
			<div class="w-3/5 pb-32 prose text-gray-900">
				{{ frappe.utils.md_to_html(app.long_description) }}
			</div>
			<div class="w-2/5 pl-24 space-y-8">
				<div>
					<h5 class="text-base text-gray-600">Website</h5>
					<ul class="mt-2 space-y-1 text-base">
						<li class="">{{ link(app.website, app.website) }}</li>
					</ul>
				</div>
				<div>
					<h5 class="text-base text-gray-600">Supported Versions</h5>
					<ul class="mt-2 space-y-1 text-base">
						{%- for version in supported_versions -%}
						<li class="">{{ link(version.name, version.frappe.url + '/tree/' + version.frappe.branch) }}</li>
						{%- endfor -%}
					</ul>
				</div>
				<div>
					<h5 class="text-base text-gray-600">Links</h5>
					<ul class="mt-2 space-y-1 text-base">
						{%- for label, value in ({
							'Support': app.support,
							'Documentation': app.documentation,
							'Privacy Policy': app.privacy_policy,
							'Terms of Service': app.terms_of_service
						}).items() -%}
						{%- if value -%}
						<li class="">{{ link(label, value) }}</li>
						{%- endif -%}
						{%- endfor -%}
					</ul>


				</div>
			</div>
		</div>
	</div>
</div>
{%- endblock -%}

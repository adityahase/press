{
 "actions": [],
 "autoname": "format:PLE-{YYYY}-{#####}",
 "creation": "2020-04-02 23:10:12.818541",
 "doctype": "DocType",
 "editable_grid": 1,
 "engine": "InnoDB",
 "field_order": [
  "team",
  "site",
  "column_break_4",
  "purpose",
  "date",
  "plan_and_usage_section",
  "plan",
  "subscription",
  "remark",
  "column_break_10",
  "amount",
  "currency",
  "free_usage",
  "amended_from",
  "reverted_from",
  "reverted",
  "failed_submission_attempts",
  "stripe_section",
  "stripe_usage_record_id",
  "usage_units",
  "timestamp",
  "stripe_customer_balance_transaction_id",
  "reference_section",
  "reference_doctype",
  "reference_name"
 ],
 "fields": [
  {
   "fetch_from": "site.team",
   "fieldname": "team",
   "fieldtype": "Link",
   "in_list_view": 1,
   "in_standard_filter": 1,
   "label": "Team",
   "options": "Team",
   "reqd": 1,
   "set_only_once": 1
  },
  {
   "fieldname": "site",
   "fieldtype": "Link",
   "in_list_view": 1,
   "label": "Site",
   "options": "Site"
  },
  {
   "fetch_from": "site.plan",
   "fieldname": "plan",
   "fieldtype": "Link",
   "label": "Plan",
   "options": "Plan"
  },
  {
   "fieldname": "column_break_4",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "date",
   "fieldtype": "Date",
   "in_list_view": 1,
   "label": "Posting Date",
   "search_index": 1
  },
  {
   "fieldname": "usage_units",
   "fieldtype": "Int",
   "label": "Units",
   "read_only": 1
  },
  {
   "fieldname": "currency",
   "fieldtype": "Link",
   "label": "Currency",
   "options": "Currency"
  },
  {
   "fieldname": "stripe_usage_record_id",
   "fieldtype": "Data",
   "label": "Stripe Usage Record ID",
   "read_only": 1
  },
  {
   "fieldname": "timestamp",
   "fieldtype": "Int",
   "label": "Timestamp",
   "read_only": 1
  },
  {
   "fieldname": "subscription",
   "fieldtype": "Link",
   "label": "Subscription",
   "options": "Subscription"
  },
  {
   "depends_on": "eval:!doc.free_usage",
   "fieldname": "stripe_section",
   "fieldtype": "Section Break",
   "label": "Stripe"
  },
  {
   "fieldname": "remark",
   "fieldtype": "Small Text",
   "label": "Remark"
  },
  {
   "fieldname": "amount",
   "fieldtype": "Currency",
   "in_list_view": 1,
   "label": "Amount",
   "options": "currency"
  },
  {
   "fieldname": "purpose",
   "fieldtype": "Select",
   "in_standard_filter": 1,
   "label": "Purpose",
   "options": "Site Consumption\nCredits Allocation\nReverse Credits Allocation\nPayment"
  },
  {
   "fieldname": "amended_from",
   "fieldtype": "Link",
   "label": "Amended From",
   "no_copy": 1,
   "options": "Payment Ledger Entry",
   "print_hide": 1,
   "read_only": 1
  },
  {
   "fieldname": "stripe_customer_balance_transaction_id",
   "fieldtype": "Data",
   "label": "Stripe Customer Balance Transaction ID",
   "read_only": 1
  },
  {
   "depends_on": "reference_name",
   "fieldname": "reference_section",
   "fieldtype": "Section Break",
   "label": "Reference"
  },
  {
   "fieldname": "reference_doctype",
   "fieldtype": "Link",
   "label": "Reference DocType",
   "options": "DocType"
  },
  {
   "fieldname": "reference_name",
   "fieldtype": "Dynamic Link",
   "label": "Reference Name",
   "options": "reference_doctype"
  },
  {
   "allow_on_submit": 1,
   "default": "0",
   "depends_on": "eval:doc.purpose == 'Credits Allocation' && doc.reverted",
   "fieldname": "reverted",
   "fieldtype": "Check",
   "label": "Reverted",
   "read_only": 1
  },
  {
   "fieldname": "reverted_from",
   "fieldtype": "Link",
   "label": "Reverted From",
   "options": "Payment Ledger Entry",
   "read_only": 1,
   "set_only_once": 1
  },
  {
   "default": "0",
   "depends_on": "eval:doc.failed_submission_attempts > 0",
   "fieldname": "failed_submission_attempts",
   "fieldtype": "Int",
   "label": "Failed Submission Attempts",
   "read_only": 1
  },
  {
   "fieldname": "plan_and_usage_section",
   "fieldtype": "Section Break",
   "label": "Plan and Usage"
  },
  {
   "fieldname": "column_break_10",
   "fieldtype": "Column Break"
  },
  {
   "default": "0",
   "fetch_from": "team.free_account",
   "fieldname": "free_usage",
   "fieldtype": "Check",
   "label": "Free Usage"
  }
 ],
 "is_submittable": 1,
 "links": [],
 "modified": "2020-05-14 20:08:06.561523",
 "modified_by": "Administrator",
 "module": "Press",
 "name": "Payment Ledger Entry",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  }
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "title_field": "site",
 "track_changes": 1
}